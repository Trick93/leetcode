## 371-Sum of Two Integers-两整数之和

不使用运算符 `+` 和 `-` ，计算两整数 `a` 、`b` 之和。

**示例**

```
输入：a=1, b=2
输出：3
```

---

## 理解

题目意思很简单，就是不用加减法实现两个数的相加。那就使用位运算即使用 **二进制** 来实现，比如 **异或** 等，下面举个简单的例子，`7+6` 的运算

我们转成二进制来运算如下：

```
7 -> 0111
6 -> 0110

0111
0110 +
————————
1101
```

上面例子是正常情况下， `1+1` 会进位，那么如果我们先不考虑进位的情况下两个数相加

```
1 + 0 = 1
0 + 1 = 1
1 + 1 = 0
0 + 0 = 0
```

其实上面就是位运算中的 **异或（^）** ，这样我们就完成了第一步，不考虑进位的情况下将两个数相加

下一步，刚才只是不考虑进位的情况下两数相加，现在我们来考虑下进位情况的处理。可以发现只要 `1+1` 的情况下才会发生进位，其他情况不需要。我们可以用 **相与（&）** 来保存需要进位的。进位实际上就是二进制数利用 **左移运算符（<<）** 向左移动一位

比如 `0001` 进位向左移动一位就是 `0010` 了

最后，判断下如果进位不为0的话那么就要重复上面的步骤，直到进位为0，总结就是下面三步骤：

1. a^b (异或，两数相加不进位)
2. (a&b)<<1 (相与保存进位并向左移一位)
3. 判断进位是否为0，不是的话将两个新的数从第一步开始继续相加操作

下面用一个实际例子来演示过程 `7+6`

```
7 -> 0111
6 -> 0110

第一步：先异或
0111
0110 ^
——————
0001

第二步：进位
0111
0110 &
——————
0110

0110>>1 结果为 1100

第三步：判断进位
进位不为0，继续相加

第一步：先异或
0001
1100 ^
——————
1101

第二步：进位
0001
1100 &
——————
0000

0000>>1 结果为 0000

第三步：判断进位
进位为0，相加完毕，结果为 1101 -> 13
```

---

#### 答案

```javascript
/**
 * @param {number} a
 * @param {number} b
 * @return {number}
 */
var getSum = function(a, b) {
    let sum = a^b
    let carry = (a&b)<<1
    
    if (carry !== 0) {
        return getSum(sum, carry)
    }
    
    return sum
};
```

>参考资料：[ECMAScript 位运算符](https://www.w3school.com.cn/js/pro_js_operators_bitwise.asp)